"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const inquirer = require("inquirer");
const utils_1 = require("../utils");
const wizard = (authContext, answersAll = {}, settings = {}) => {
    if (typeof settings.saveConfigOnDisk === 'undefined') {
        let promptFor = [{
                name: 'save',
                message: 'Save on disk?',
                type: 'confirm'
            }];
        return inquirer.prompt(promptFor)
            .then((answers) => {
            if (answers.save) {
                return utils_1.saveConfigOnDisk(utils_1.convertSettingsToAuthContext(answersAll), settings)
                    .then(() => {
                    return answersAll;
                });
            }
            else {
                return answersAll;
            }
        });
    }
    else if (settings.saveConfigOnDisk) {
        return utils_1.saveConfigOnDisk(utils_1.convertSettingsToAuthContext(answersAll), settings)
            .then(() => {
            return answersAll;
        });
    }
    else {
        return new Promise(r => r(answersAll));
    }
};
exports.default = wizard;

//# sourceMappingURL=saveOnDisk.js.map
